<!--<!DOCTYPE HTML>
<html lang= “th”>
<body>
    <h1>คำสั่งซื้อ</h1>
    <a href="page1.html">1</a>
    <a href="page2.html">2</a>
    <a href="page3.html">3</a>
    <a href="page4.html">4</a>
    <a href="page5.html">5</a>
    <a href="cart.html">6</a>
    <a href="payment.html">7</a>
    <form class="bread" action="" name=”SelectBread”>
    <a href="page3.html">ต่อไป</a>
    <h2>เลือกเนื้อสัตว์</h2>
    <h4>เลือกได้มากกว่า 1 อย่าง</h4>
    <label for="checkbox"></label>
    <input type="checkbox" name="meat[]" value="bacon">เบคอน +30บาท
    <input type="checkbox" name="meat[]" value="steakbeef">สเต็กเนื้อ +30บาท
    <input type="checkbox" name="meat[]" value="tuna">ทูน่า +20บาท
    <input type="checkbox" name="meat[]" value="bulgogichicken">ไก่บูลโกกิ +20บาท
    <input type="checkbox" name="meat[]" value="ham">แฮมหมู +20บาท
    <input type="checkbox" name="meat[]" value="pepperoni"> เปปเปอโรนี +20บาท
    <input type="checkbox" name="meat[]" value="pepperoni"> ไม่เลือก
    </form>
</body>-->

<!DOCTYPE html>
<html>
<link rel="stylesheet" href="codeCSS/project.css">
<body>
    <h1>คำสั่งซื้อ</h1>
    <a href="page1.html">1</a>
    <a href="page2.html">2</a>
    <a href="page3.html">3</a>
    <a href="page4.html">4</a>
    <a href="page5.html">5</a>
    <a href="sum_order.html">6</a><br>
    <a href="page3.html">ต่อไป</a>
    <h2>เลือกเนื้อสัตว์</h2>
    <h4>เลือกได้มากกว่า 1 อย่าง</h4>
    <form action="/submit_form" method="post">
      <div class="button-container">
          <div class="button-slide">
      <button type="button" name="meat" value="bacon"><img src="meat/bacon.png" ><br>เบคอน<br>+30บาท</button>
      <input type="hidden" name="meat[]" value="bacon">
      <input type="hidden" name="meat-quantity[]" value="0">
      <button type="button" name="meat" value="steakbeef"><img src="meat/beef.png"><br>สเต็กเนื้อ<br>+30บาท</button>
      <input type="hidden" name="meat[]" value="steakbeef">
      <input type="hidden" name="meat-quantity[]" value="0">
      <button type="button" name="meat" value="tuna"><img src="meat/tuna.png"><br>ทูน่า<br>+20บาท</button>
      <input type="hidden" name="meat[]" value="tuna">
      <input type="hidden" name="meat-quantity[]" value="0">
      <button type="button" name="meat" value="bulgogichicken"><img src="meat/chicken.png"><br>ไก่บูลโกกิ<br>+20บาท</button>
      <input type="hidden" name="meat[]" value="bulgogichicken">
      <input type="hidden" name="meat-quantity[]" value="0">
      <button type="button" name="meat" value="ham"><img src="meat/ham.png"><br>แฮม<br>+30บาท</button>
      <input type="hidden" name="meat[]" value="ham">
      <input type="hidden" name="meat-quantity[]" value="0">
      <button type="button" name="meat" value="pepperoni"><img src="meat/pepper.png"><br>เปปเปอโรนี<br>+30บาท</button>
      <input type="hidden" name="meat[]" value="pepperoni">
      <input type="hidden" name="meat-quantity[]" value="0">
      </div>
      </div>
      <br>
      <!--button type="button" id="add-button">Add to Cart</button>
      <button type="submit">Submit</button-->
    </form>
    <br>
    <button id="prev-button">Previous</button>
    <button id="next-button">Next</button>

    <script>
        const buttons = document.querySelectorAll('button[name="meat"]');
        const hiddenInputs = document.querySelectorAll('input[name="meat-quantity[]"]');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const addButton = document.getElementById('add-button');
        const buttonSlide = document.querySelector('.button-slide');
    
        let selectedMeats = JSON.parse(localStorage.getItem('selectedMeats')) || [],
            slidePosition = 0;
    
        buttons.forEach((button, index) => {
            button.addEventListener('click', () => {
                hiddenInputs[index].value = parseInt(hiddenInputs[index].value) + 1;
                button.classList.toggle('active');
    
                if (button.classList.contains('active')) {
                    selectedMeats.push(button.value);
                } else {
                    const indexToRemove = selectedMeats.indexOf(button.value);
                    if (indexToRemove !== -1) {
                        selectedMeats.splice(indexToRemove, 1);
                    }
                }
    
                localStorage.setItem('selectedMeats', JSON.stringify(selectedMeats));
            });
        });
    
        // ตรวจสอบว่าเนื้อสัตว์ไหนถูกเลือกไว้แล้ว
        selectedMeats.forEach((meat) => {
            const button = document.querySelector(`button[name="meat"][value="${meat}"]`);
            if (button) {
                button.classList.add('active');
                const index = Array.from(buttons).indexOf(button);
                hiddenInputs[index].value = 1;
            }
        });
    
        prevButton.addEventListener('click', () => {
            slidePosition += 1440; // ค่าความกว้างของปุ่ม
            if (slidePosition > 0) slidePosition = -1440;
            buttonSlide.style.left = `${slidePosition}px`;
        });
        nextButton.addEventListener('click', () => {
            slidePosition -= 1440; // ค่าความกว้างของปุ่ม
            if (slidePosition < -320 * (buttonSlide.children.length - 1)) slidePosition = 0;
            buttonSlide.style.left = `${slidePosition}px`;
    
        });
    </script>
    
  </body>
</html>
